feature: misc
created_at:
updated_at:

tasks:
  - id: task-001
    title: "rename do.ts files to reflect the name change from do -> run"
    description: |
      rename do.ts files to reflect the name change from do -> run
    status: completed
    dependencies: []
    acceptance_criteria:
      - "run.ts and run.test.ts files exist"
      - "run command still works"
      - "tests pass"
    completed_at: 2026-01-29T10:30:00Z

  - id: task-002
    title: "harden the task choosing step to make sure only tasks from the passed in tasks file are chosen"
    description: |
      It has happend that tasks from a different tasks file was chosen when all tasks were done in the passed in file.
      It's strictly forbidden to choose tasks from a different tasks file.
      Ensure that the task choosing step only selects tasks from the passed in tasks file.
    status: completed
    dependencies: []
    acceptance_criteria:
      - "tasks are chosen from the passed in tasks file"
    completed_at: 2026-01-29T11:45:00Z

  - id: task-003
    title: "make config in yaml instead of json"
    description: |
      Convert the configuration file from JSON to YAML format, and support reading the config.
    status: completed
    dependencies: []
    acceptance_criteria:
      - "the config file is in YAML format"
      - "the config file can be read"
      - "init command creates the config file, in yaml format"
    completed_at: 2026-01-29T12:15:00Z

  - id: task-004
    title: "feedback command should be more loose"
    description: |
      the config feedback command should be more loose
      and be named to feedbackInstructions or something, suggesting that it's
      freeform instructions on how to run tests
    status: completed
    dependencies: []
    acceptance_criteria:
      - "feedbackCommand -> feedbackInstructions"
      - "write in text, like test: bun test, type check: bun run tsc"
      - "hono init uses feedbackInstructions"
      - "prompts use feedbackInstructions"
    completed_at: 2026-01-29T13:30:00Z

  - id: task-005
    title: "hone prd - has stopped asking questions"
    description: |
      the hone prd command has stopped asking clarifying questions.
      It should give instructions to the agent to investigate teh codebase then
      ask any clarifying questions that are needed to be able to write a concrete
      and non ambiguous prd.
      I think it might actually hang at the moment.
    status: completed
    dependencies: []
    acceptance_criteria:
      - "hone prd <text> should ask user questions to sort out any vagueness"
      - "hone prd <text> should ask user questions to sort out any ambiguity"
    completed_at: 2026-01-29T17:45:00Z

  - id: task-006
    title: "Make README more user-friendly"
    description: |
      the readme has some duplication and is not user-friendly.
      It should be rewritten to be more concise and easy to understand.
      Put getting started instructions up front.
    status: completed
    dependencies: []
    acceptance_criteria:
      - "make README more user-friendly"
      - "rewrite README to be more concise and easy to understand"
      - "put getting started instructions up front"
    completed_at: 2026-01-29T18:15:00Z

  - id: task-007
    title: "install yaml formatter and linting tool"
    description: |
      we have issues with yaml formatting and linting.
      Install a yaml formatter and linting tool to ensure consistency and quality.
    status: completed
    dependencies: []
    acceptance_criteria:
      - "editing yaml files are faster and more consistent"
    completed_at: 2026-01-29T19:45:00Z

  - id: task-008
    title: "Fix GitHub Actions CI/CD test error"
    description: |
      this error happens in the GitHub Actions CI/CD pipeline.
      Investigate and fix the issue to ensure a smooth and reliable deployment process.
      do not rely on claude or opencode being available in CI environment

      Error: Expected substring: "Could not extract feature name"
         Error: claude command not found\n\nPlease install Claude Code CLI:\nnpm install -g @anthropic-ai/claude-code\n\nOr visit: https://docs.anthropic.com/en/docs/claude-code"

              at <anonymous> (/home/runner/work/hone-ai/hone-ai/src/run.test.ts:68:19)
              at <anonymous> (/home/runner/work/hone-ai/hone-ai/src/run.test.ts:60:78)
        63 |
        64 |       await expect(executeTasks({
        65 |         tasksFile,
        66 |         iterations: 1,
        67 |         agent: 'claude',
        68 |       })).rejects.toThrow('Could not extract feature name');
                               ^
        error: expect(received).toThrow(expected)

        Expected substring: "Could not extract feature name"
        Received message: "✗ Error: claude command not found\n\nPlease install Claude Code CLI:\nnpm install -g @anthropic-ai/claude-code\n\nOr visit: https://docs.anthropic.com/en/docs/claude-code"

              at <anonymous> (/home/runner/work/hone-ai/hone-ai/src/run.test.ts:68:19)
              at <anonymous> (/home/runner/work/hone-ai/hone-ai/src/run.test.ts:60:78)
        (fail) run module > executeTasks > should reject when feature name cannot be extracted from file path [3.00ms]
    status: completed
    dependencies: []
    acceptance_criteria:
      - "CI tests pass consistently"
    completed_at: 2026-01-29T20:30:00Z

  - id: task-007
    title: "install yaml formatter and linting tool"
    description: |
      we have issues with yaml formatting and linting.
      Install a yaml formatter and linting tool to ensure consistency and quality.
    status: completed
    dependencies: []
    acceptance_criteria:
      - "editing yaml files are faster and more consistent"
    completed_at: 2026-01-29T19:45:00Z

  - id: task-008
    title: "Fix GitHub Actions CI/CD test error"
    description: |
      this error happens in the GitHub Actions CI/CD pipeline.
      Investigate and fix the issue to ensure a smooth and reliable deployment process.
      do not rely on claude or opencode being available in CI environment

      Error: Expected substring: "Could not extract feature name"
         Error: claude command not found\n\nPlease install Claude Code CLI:\nnpm install -g @anthropic-ai/claude-code\n\nOr visit: https://docs.anthropic.com/en/docs/claude-code"

              at <anonymous> (/home/runner/work/hone-ai/hone-ai/src/run.test.ts:68:19)
              at <anonymous> (/home/runner/work/hone-ai/hone-ai/src/run.test.ts:60:78)
        63 |
        64 |       await expect(executeTasks({
        65 |         tasksFile,
        66 |         iterations: 1,
        67 |         agent: 'claude',
        68 |       })).rejects.toThrow('Could not extract feature name');
                               ^
        error: expect(received).toThrow(expected)

        Expected substring: "Could not extract feature name"
        Received message: "✗ Error: claude command not found\n\nPlease install Claude Code CLI:\nnpm install -g @anthropic-ai/claude-code\n\nOr visit: https://docs.anthropic.com/en/docs/claude-code"

              at <anonymous> (/home/runner/work/hone-ai/hone-ai/src/run.test.ts:68:19)
              at <anonymous> (/home/runner/work/hone-ai/hone-ai/src/run.test.ts:60:78)
        (fail) run module > executeTasks > should reject when feature name cannot be extracted from file path [3.00ms]
    status: completed
    dependencies: []
    acceptance_criteria:
      - "CI tests pass consistently"
    completed_at: 2026-01-29T20:30:00Z

  - id: task-009
    title: "hone --version fixes"
    description: |
      hone --version prints the wrong version number.
      It says 0.1.0, and we're on 0.5.0.
      Also add shorthand alias for version, -v
    status: completed
    dependencies: []
    acceptance_criteria:
      - "hone --version prints the correct version number"
      - "hone -v prints the correct version number"
    completed_at: 2026-01-29T22:15:00Z

  - id: task-010
    title: "fallback to help for unknown command"
    description: |
      hone --unknown should print help for all unknown commands
    status: completed
    dependencies: []
    acceptance_criteria:
      - "hone --<unknown> prints help for all unknown commands"
    completed_at: 2026-01-29T23:30:00Z

  - id: task-011
    title: "the build command is platform-specific"
    description: |
      bun run build, builds for the platform it's running on.
      I want to be able to build for a different platform.
      But I also want to be able to build for linux.
    status: completed
    dependencies: []
    acceptance_criteria:
      - "bun run build - builds for all platforms"
      - "bun run build:linux - builds for linux"
      - "bun run build:macos - builds for macos"
    completed_at: 2026-01-29T19:28:00Z

  - id: task-012
    title: "make sure the platform specific builds on github actions"
    description: |
      make sure that both linux and macos builds build and attach artifacts to github releases.
    status: completed
    dependencies: []
    acceptance_criteria:
      - "both platform builds build and attach artifacts to github releases"
      - "the artifacts are named correctly, and the binaries inside the artifacts are named correctly (just hone)"
    completed_at: 2026-01-29T19:35:00Z

  - id: task-013
    title: "zip release artifacts inside a folder"
    description: |
      make sure that both linux and macos binaries are zipped inside a folder before being attached to github releases.
    status: completed
    dependencies: []
    acceptance_criteria:
      - "the artifacts are zipped inside a folder"
    completed_at: 2026-01-29T20:45:00Z

  - id: task-014
    title: "fix failing tests"
    description: |
      fix failing tests, bun run test
    status: pending
    dependencies: []
    acceptance_criteria:
      - "all tests pass"
    completed_at: null
