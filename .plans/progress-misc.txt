================================================================================
TASK-001: rename do.ts files to reflect the name change from do -> run
Date: 2026-01-29T10:30:00Z
================================================================================

Summary:
Renamed do.ts and do.test.ts to run.ts and run.test.ts to reflect the command 
rename. Updated all imports and test descriptions.

Files Changed:
- src/do.ts → src/run.ts (renamed)
- src/do.test.ts → src/run.test.ts (renamed, updated test workspace path and descriptions)
- src/index.ts (updated import from './do' to './run')

Key Decisions:
- Pure rename refactor with no logic changes to minimize risk
- Updated test workspace path from .test-workspace-do to .test-workspace-run for consistency

Next Task: task-002

================================================================================
TASK-002: harden the task choosing step to make sure only tasks from the passed in tasks file are chosen
Date: 2026-01-29T11:45:00Z
================================================================================

Summary:
Added task file isolation guardrails to implement phase prompts. Added CRITICAL warning 
in task selection instructions explicitly forbidding selecting tasks from other files.

Files Changed:
- src/prompt.ts (added CRITICAL warning about task file isolation in IMPLEMENT_PHASE instructions)
- src/prompt.test.ts (added test validating warning text appears in prompt)
- AGENTS.md (documented task isolation pattern under "Prompt Construction" section)

Key Decisions:
- Used CRITICAL marker to emphasize the restriction in prompt instructions
- Added test coverage to prevent regression
- Documented pattern in AGENTS.md for future reference

Next Task: task-003

================================================================================
TASK-003: make config in yaml instead of json
Date: 2026-01-29T12:15:00Z
================================================================================

Summary:
Converted config from JSON to YAML format. Updated config creation and reading 
to use js-yaml library. All references updated across codebase.

Files Changed:
- .plans/hone.config.json → .plans/hone.config.yml (converted and renamed)
- src/config.ts (updated to use yaml.dump() and yaml.load() instead of JSON methods)
- src/index.ts (updated default config path reference)
- src/init.test.ts (updated integration test to check for .yml extension)
- test-e2e.sh (updated to check for .yml config file)
- AGENTS.md (updated config file references from .json to .yml)
- README.md (updated example config to show YAML format)

Key Decisions:
- Used js-yaml library for parsing/dumping (already in dependencies)
- Deleted old .json config and created new .yml config
- Preserved deep merge logic for models field to maintain defaults
- All 115 tests pass

Next Task: task-004

================================================================================
TASK-004: feedback command should be more loose
Date: 2026-01-29T13:30:00Z
================================================================================

Summary:
Renamed `feedbackCommand` to `feedbackInstructions` in config and updated it to accept
freeform text instructions for running tests and checks, rather than a single command.

Files Changed:
- src/config.ts (renamed feedbackCommand -> feedbackInstructions in DEFAULT_CONFIG)
- src/prompt.ts (updated references from feedbackCommand to feedbackInstructions, removed bullet formatting)
- src/prompt.test.ts (updated test to use feedbackInstructions)
- AGENTS.md (documented that feedbackInstructions is freeform text with example format)
- README.md (updated example config to show feedbackInstructions format)

Key Decisions:
- Kept plain text format (e.g., "test: bun test, type check: bun run tsc") for flexibility
- Users can format instructions as they prefer (plain, bullets, etc.)
- All 115 tests pass

Next Task: All tasks complete
